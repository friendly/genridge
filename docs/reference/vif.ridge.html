<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Variance Inflation Factors for Ridge Regression — vif.ridge • genridge</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.9/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Variance Inflation Factors for Ridge Regression — vif.ridge"><meta name="description" content="The function vif.ridge calculates variance inflation factors for the
predictors in a set of ridge regression models indexed by the
tuning/shrinkage factor, returning one row for each value of the \(\lambda\) parameter.
Variance inflation factors are calculated using the simplified formulation
in Fox &amp;amp; Monette (1992).
The plot.vif.ridge method plots variance inflation factors for a &quot;vif.ridge&quot; object
in a similar style to what is provided by traceplot. That is, it plots the VIF for each
coefficient in the model against either the ridge \(\lambda\) tuning constant or it's equivalent
effective degrees of freedom."><meta property="og:description" content="The function vif.ridge calculates variance inflation factors for the
predictors in a set of ridge regression models indexed by the
tuning/shrinkage factor, returning one row for each value of the \(\lambda\) parameter.
Variance inflation factors are calculated using the simplified formulation
in Fox &amp;amp; Monette (1992).
The plot.vif.ridge method plots variance inflation factors for a &quot;vif.ridge&quot; object
in a similar style to what is provided by traceplot. That is, it plots the VIF for each
coefficient in the model against either the ridge \(\lambda\) tuning constant or it's equivalent
effective degrees of freedom."><meta property="og:image" content="https://friendly.github.io/genridge/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">genridge</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/friendly/genridge/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Variance Inflation Factors for Ridge Regression</h1>
      <small class="dont-index">Source: <a href="https://github.com/friendly/genridge/blob/HEAD/R/vif.ridge.R" class="external-link"><code>R/vif.ridge.R</code></a></small>
      <div class="d-none name"><code>vif.ridge.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The function <code>vif.ridge</code> calculates variance inflation factors for the
predictors in a set of ridge regression models indexed by the
tuning/shrinkage factor, returning one row for each value of the \(\lambda\) parameter.</p>
<p>Variance inflation factors are calculated using the simplified formulation
in Fox &amp; Monette (1992).</p>
<p>The <code>plot.vif.ridge</code> method plots variance inflation factors for a <code>"vif.ridge"</code> object
in a similar style to what is provided by <code><a href="traceplot.html">traceplot</a></code>. That is, it plots the VIF for each
coefficient in the model against either the ridge \(\lambda\) tuning constant or it's equivalent
effective degrees of freedom.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="co"># S3 method for class 'ridge'</span></span>
<span><span class="fu">vif</span><span class="op">(</span><span class="va">mod</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vif.ridge'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, digits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"digits"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">5</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'vif.ridge'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  X <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lambda"</span>, <span class="st">"df"</span><span class="op">)</span>,</span>
<span>  col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"red"</span>, <span class="st">"darkgreen"</span>, <span class="st">"blue"</span>, <span class="st">"darkcyan"</span>, <span class="st">"magenta"</span>, <span class="st">"brown"</span>,</span>
<span>    <span class="st">"darkgray"</span><span class="op">)</span>,</span>
<span>  pch <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span><span class="op">:</span><span class="fl">18</span>, <span class="fl">7</span>, <span class="fl">9</span>, <span class="fl">12</span>, <span class="fl">13</span><span class="op">)</span>,</span>
<span>  <span class="va">xlab</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Variance Inflation"</span>,</span>
<span>  <span class="va">xlim</span>,</span>
<span>  <span class="va">ylim</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-mod">mod<a class="anchor" aria-label="anchor" href="#arg-mod"></a></dt>
<dd><p>A <code>"ridge"</code> object computed by <code><a href="ridge.html">ridge</a></code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Other arguments passed to methods</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>ridge</code> object, as fit by <code><a href="ridge.html">ridge</a></code></p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Number of digits to display in the <code>print</code> method</p></dd>


<dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>What to plot as the horizontal coordinate, one of <code>c("lambda", "df")</code></p></dd>


<dt id="arg-col">col<a class="anchor" aria-label="anchor" href="#arg-col"></a></dt>
<dd><p>A numeric or character vector giving the colors used to plot the
ridge trace curves.  Recycled as necessary.</p></dd>


<dt id="arg-pch">pch<a class="anchor" aria-label="anchor" href="#arg-pch"></a></dt>
<dd><p>Vector of plotting characters used to plot the ridge trace
curves.  Recycled as necessary.</p></dd>


<dt id="arg-xlab">xlab<a class="anchor" aria-label="anchor" href="#arg-xlab"></a></dt>
<dd><p>Label for horizontal axis</p></dd>


<dt id="arg-ylab">ylab<a class="anchor" aria-label="anchor" href="#arg-ylab"></a></dt>
<dd><p>Label for vertical axis</p></dd>


<dt id="arg-xlim-ylim">xlim, ylim<a class="anchor" aria-label="anchor" href="#arg-xlim-ylim"></a></dt>
<dd><p>x, y limits for the plot. You may need to adjust these to allow for the variable labels.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>vif</code> returns a <code>"vif.ridge"</code> object, which is a list of four components</p>
<dl><dt>vif</dt>
<dd><p>a data frame of the same size and
        shape as <code>coef{mod}</code>. The columns correspond to the predictors in the
        model and the rows correspond to the values of <code>lambda</code> in ridge
        estimation.</p></dd>

  <dt>lambda</dt>
<dd><p>the vector of ridge constants from the original call to <code><a href="ridge.html">ridge</a></code></p></dd>

  <dt>df</dt>
<dd><p>the vector of effective degrees of freedom corresponding to <code>lambda</code></p></dd>

  <dt>criteria</dt>
<dd><p>the optimal values of <code>lambda</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Fox, J. and Monette, G. (1992). Generalized collinearity
diagnostics. <em>JASA</em>, <b>87</b>, 178-183, <a href="https://doi.org/10.1080/01621459.1992.10475190" class="external-link">doi:10.1080/01621459.1992.10475190</a>
.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/car/man/vif.html" class="external-link">vif</a></code>, <code><a href="precision.html">precision</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michael Friendly</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">longley</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lmod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Employed</span> <span class="op">~</span> <span class="va">GNP</span> <span class="op">+</span> <span class="va">Unemployed</span> <span class="op">+</span> <span class="va">Armed.Forces</span> <span class="op">+</span> <span class="va">Population</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>                      <span class="va">Year</span> <span class="op">+</span> <span class="va">GNP.deflator</span>, data<span class="op">=</span><span class="va">longley</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span><span class="va">lmod</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          GNP   Unemployed Armed.Forces   Population         Year GNP.deflator </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1788.51348     33.61889      3.58893    399.15102    758.98060    135.53244 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lambda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.005</span>, <span class="fl">0.01</span>, <span class="fl">0.02</span>, <span class="fl">0.04</span>, <span class="fl">0.08</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lridge</span> <span class="op">&lt;-</span> <span class="fu"><a href="ridge.html">ridge</a></span><span class="op">(</span><span class="va">Employed</span> <span class="op">~</span> <span class="va">GNP</span> <span class="op">+</span> <span class="va">Unemployed</span> <span class="op">+</span> <span class="va">Armed.Forces</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>                           <span class="va">Population</span> <span class="op">+</span> <span class="va">Year</span> <span class="op">+</span> <span class="va">GNP.deflator</span>, </span></span>
<span class="r-in"><span>                 data<span class="op">=</span><span class="va">longley</span>, lambda<span class="op">=</span><span class="va">lambda</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">lridge</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              GNP Unemployed Armed.Forces  Population     Year GNP.deflator</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.000 -3.4471925  -1.827886   -0.6962102 -0.34419721 8.431972   0.15737965</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.005 -1.0424783  -1.491395   -0.6234680 -0.93558040 6.566532  -0.04175039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.010 -0.1797967  -1.361047   -0.5881396 -1.00316772 5.656287  -0.02612152</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.020  0.4994945  -1.245137   -0.5476331 -0.86755299 4.626116   0.09766305</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.040  0.9059471  -1.155229   -0.5039108 -0.52347060 3.576502   0.32123994</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.080  1.0907048  -1.086421   -0.4582525 -0.08596324 2.641649   0.57025165</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># get VIFs for the shrunk estimates</span></span></span>
<span class="r-in"><span><span class="va">vridge</span> <span class="op">&lt;-</span> <span class="fu">vif</span><span class="op">(</span><span class="va">lridge</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">vridge</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Variance inflaction factors:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            GNP  Unemployed  Armed.Forces  Population    Year  GNP.deflator</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.000  1788.51      33.619         3.589      399.15  758.98        135.53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.005   540.04      12.118         2.921      193.30  336.15         90.63</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.010   259.00       7.284         2.733      134.42  218.84         74.79</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.020   101.12       4.573         2.578       87.29  128.82         58.94</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.040    34.43       3.422         2.441       52.22   66.31         43.56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.080    11.28       2.994         2.301       28.59   28.82         29.52</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot VIFs</span></span></span>
<span class="r-in"><span><span class="va">pch</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span><span class="op">:</span><span class="fl">18</span>, <span class="fl">7</span>, <span class="fl">9</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">clr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fl">5</span>, start<span class="op">=</span><span class="fl">.6</span>, end<span class="op">=</span><span class="fl">.1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">### Transition examples, because the vif() method now returns a list structure </span></span></span>
<span class="r-in"><span><span class="co">### rather than a data.frame </span></span></span>
<span class="r-in"><span><span class="va">vr</span> <span class="op">&lt;-</span> <span class="va">vridge</span><span class="op">$</span><span class="va">vif</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/matplot.html" class="external-link">matplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">vr</span><span class="op">)</span>, <span class="va">vr</span>, type<span class="op">=</span><span class="st">'b'</span>, </span></span>
<span class="r-in"><span>  xlab<span class="op">=</span><span class="st">'Ridge constant (k)'</span>, ylab<span class="op">=</span><span class="st">"Variance Inflation"</span>, </span></span>
<span class="r-in"><span>  xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.08</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>  col<span class="op">=</span><span class="va">clr</span>, pch<span class="op">=</span><span class="va">pch</span>, cex<span class="op">=</span><span class="fl">1.2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="va">vr</span><span class="op">[</span><span class="fl">1</span>,<span class="op">]</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">vr</span><span class="op">)</span>, pos<span class="op">=</span><span class="fl">4</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="vif.ridge-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># matplot(lridge$df, vridge, type='b', </span></span></span>
<span class="r-in"><span><span class="co">#   xlab='Degrees of freedom', ylab="Variance Inflation", </span></span></span>
<span class="r-in"><span><span class="co">#  col=clr, pch=pch, cex=1.2)</span></span></span>
<span class="r-in"><span><span class="co"># text(6, vridge[1,], colnames(vridge), pos=2)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># more useful to plot VIF on the sqrt scale</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># matplot(rownames(vridge), sqrt(vridge), type='b', </span></span></span>
<span class="r-in"><span><span class="co">#  xlab='Ridge constant (k)', ylab=expression(sqrt(VIF)), </span></span></span>
<span class="r-in"><span><span class="co">#  xlim=c(-0.01, 0.08), </span></span></span>
<span class="r-in"><span><span class="co">#  col=clr, pch=pch, cex=1.2, cex.lab=1.25)</span></span></span>
<span class="r-in"><span><span class="co"># text(-0.01, sqrt(vridge[1,]), colnames(vridge), pos=4, cex=1.2)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># matplot(lridge$df, sqrt(vridge), type='b', </span></span></span>
<span class="r-in"><span><span class="co">#  xlab='Degrees of freedom', ylab=expression(sqrt(VIF)), </span></span></span>
<span class="r-in"><span><span class="co">#  col=clr, pch=pch, cex=1.2, cex.lab=1.25)</span></span></span>
<span class="r-in"><span><span class="co"># text(6, sqrt(vridge[1,]), colnames(vridge), pos=2, cex=1.2)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Friendly.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

