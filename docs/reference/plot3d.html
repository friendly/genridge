<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The 3D ridge trace plot displays 3D projections of the covariance ellipsoids
for a set of ridge regression estimates indexed by a ridge tuning constant.
The centers of these ellipses show the bias induced for each parameter, and
also how the change in the ridge estimate for one parameter is related to
changes for other parameters.
The size and shapes of the covariance ellipsoids show directly the effect on
precision of the estimates as a function of the ridge tuning constant.
plot3d.ridge and plot3d.pcaridge differ only in the defaults
for the variables plotted."><title>3D Ridge Trace Plots — plot3d • genridge</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.5/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.5/font.css" rel="stylesheet"><link href="../deps/Roboto_Slab-0.4.5/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="3D Ridge Trace Plots — plot3d"><meta property="og:description" content="The 3D ridge trace plot displays 3D projections of the covariance ellipsoids
for a set of ridge regression estimates indexed by a ridge tuning constant.
The centers of these ellipses show the bias induced for each parameter, and
also how the change in the ridge estimate for one parameter is related to
changes for other parameters.
The size and shapes of the covariance ellipsoids show directly the effect on
precision of the estimates as a function of the ridge tuning constant.
plot3d.ridge and plot3d.pcaridge differ only in the defaults
for the variables plotted."><meta property="og:image" content="http://friendly.github.io/genridge/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">genridge</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.7.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/friendly/genridge/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>3D Ridge Trace Plots</h1>
      <small class="dont-index">Source: <a href="https://github.com/friendly/genridge/blob/HEAD/R/plot3d.ridge.R" class="external-link"><code>R/plot3d.ridge.R</code></a></small>
      <div class="d-none name"><code>plot3d.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The 3D ridge trace plot displays 3D projections of the covariance ellipsoids
for a set of ridge regression estimates indexed by a ridge tuning constant.</p>
<p>The centers of these ellipses show the bias induced for each parameter, and
also how the change in the ridge estimate for one parameter is related to
changes for other parameters.</p>
<p>The size and shapes of the covariance ellipsoids show directly the effect on
precision of the estimates as a function of the ridge tuning constant.</p>
<p><code>plot3d.ridge</code> and <code>plot3d.pcaridge</code> differ only in the defaults
for the variables plotted.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot3d</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for pcaridge</span></span>
<span><span class="fu">plot3d</span><span class="op">(</span><span class="va">x</span>, variables <span class="op">=</span> <span class="op">(</span><span class="va">p</span> <span class="op">-</span> <span class="fl">2</span><span class="op">)</span><span class="op">:</span><span class="va">p</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for ridge</span></span>
<span><span class="fu">plot3d</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  variables <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,</span>
<span>  radius <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  which.lambda <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">lambda</span><span class="op">)</span>,</span>
<span>  lwd <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  lty <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  <span class="va">xlim</span>,</span>
<span>  <span class="va">ylim</span>,</span>
<span>  <span class="va">zlim</span>,</span>
<span>  <span class="va">xlab</span>,</span>
<span>  <span class="va">ylab</span>,</span>
<span>  <span class="va">zlab</span>,</span>
<span>  col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"black"</span>, <span class="st">"red"</span>, <span class="st">"darkgreen"</span>, <span class="st">"blue"</span>, <span class="st">"darkcyan"</span>, <span class="st">"magenta"</span>, <span class="st">"brown"</span>,</span>
<span>    <span class="st">"darkgray"</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">lambda</span>,</span>
<span>  ref <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ref.col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">gray</a></span><span class="op">(</span><span class="fl">0.7</span><span class="op">)</span>,</span>
<span>  segments <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  shade <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  shade.alpha <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>  wire <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  aspect <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  add <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>A <code>ridge</code> object, as fit by <code><a href="ridge.html">ridge</a></code> or a
<code>pcaridge</code> object as transformed by <code><a href="pca.html">pca.ridge</a></code></p></dd>


<dt>...</dt>
<dd><p>Other arguments passed down</p></dd>


<dt>variables</dt>
<dd><p>Predictors in the model to be displayed in the plot: an
integer or character vector of length 3, giving the indices or names of the
variables. Defaults to the first three predictors for <code>ridge</code> objects
or the <em>last</em> three dimensions for <code>pcaridge</code> objects.</p></dd>


<dt>radius</dt>
<dd><p>Radius of the ellipse-generating circle for the covariance
ellipsoids.  The default, <code>radius=1</code> gives a standard “unit”
ellipsoid. Typically, <code>radius&lt;1</code> gives less cluttered displays.</p></dd>


<dt>which.lambda</dt>
<dd><p>A vector of indices used to select the values of
<code>lambda</code> for which ellipsoids are plotted. The default is to plot
ellipsoids for all values of <code>lambda</code> in the <code>ridge</code> object.</p></dd>


<dt>lwd, lty</dt>
<dd><p>Line width and line type for the covariance ellipsoids.
Recycled as necessary.</p></dd>


<dt>xlim, ylim, zlim</dt>
<dd><p>X, Y, Z limits for the plot, each a vector of length
2.  If missing, the range of the covariance ellipsoids is used.</p></dd>


<dt>xlab, ylab, zlab</dt>
<dd><p>Labels for the X, Y, Z variables in the plot. If
missing, the names of the predictors given in <code>variables</code> is used.</p></dd>


<dt>col</dt>
<dd><p>A numeric or character vector giving the colors used to plot the
covariance ellipsoids.  Recycled as necessary.</p></dd>


<dt>labels</dt>
<dd><p>A numeric or character vector giving the labels to be drawn at
the centers of the covariance ellipsoids.</p></dd>


<dt>ref</dt>
<dd><p>Logical: whether to draw horizontal and vertical reference lines
at 0. This is not yet implemented.</p></dd>


<dt>ref.col</dt>
<dd><p>Color of reference lines.</p></dd>


<dt>segments</dt>
<dd><p>Number of line segments used in drawing each dimension of a
covariance ellipsoid.</p></dd>


<dt>shade</dt>
<dd><p>a logical scalar or vector, indicating whether the ellipsoids
should be rendered with <code><a href="https://dmurdoch.github.io/rgl/dev/reference/shade3d.html" class="external-link">shade3d</a></code>. Recycled as necessary.</p></dd>


<dt>shade.alpha</dt>
<dd><p>a numeric value in the range [0,1], or a vector of such
values, giving the alpha transparency for ellipsoids rendered with
<code>shade=TRUE</code>.</p></dd>


<dt>wire</dt>
<dd><p>a logical scalar or vector, indicating whether the ellipsoids
should be rendered with <code><a href="https://dmurdoch.github.io/rgl/dev/reference/shade3d.html" class="external-link">wire3d</a></code>. Recycled as necessary.</p></dd>


<dt>aspect</dt>
<dd><p>a scalar or vector of length 3, or the character string "iso",
 indicating the ratios of the x, y, and z axes of the bounding box.  The
 default, <code>aspect=1</code> makes the bounding box display as a cube
 approximately filling the display. See <code><a href="https://dmurdoch.github.io/rgl/dev/reference/aspect3d.html" class="external-link">aspect3d</a></code> for
details.</p></dd>


<dt>add</dt>
<dd><p>if <code>TRUE</code>, add to the current <code>rgl</code> plot; the default
is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>None. Used for its side-effect of plotting</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>This is an initial implementation.  The details and arguments are
subject to change.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Friendly, M. (2013). The Generalized Ridge Trace Plot:
Visualizing Bias <em>and</em> Precision. <em>Journal of Computational and
Graphical Statistics</em>, <b>22</b>(1), 50-68,
doi:10.1080/10618600.2012.681237,
<a href="https://www.datavis.ca/papers/genridge-jcgs.pdf" class="external-link">https://www.datavis.ca/papers/genridge-jcgs.pdf</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="plot.ridge.html">plot.ridge</a></code>, <code><a href="pairs.ridge.html">pairs.ridge</a></code>,
<code><a href="pca.html">pca.ridge</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michael Friendly</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lmod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">Employed</span> <span class="op">~</span> <span class="va">GNP</span> <span class="op">+</span> <span class="va">Unemployed</span> <span class="op">+</span> <span class="va">Armed.Forces</span> <span class="op">+</span> <span class="va">Population</span> <span class="op">+</span> </span></span>
<span class="r-in"><span>                      <span class="va">Year</span> <span class="op">+</span> <span class="va">GNP.deflator</span>, data<span class="op">=</span><span class="va">longley</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">longley.y</span> <span class="op">&lt;-</span> <span class="va">longley</span><span class="op">[</span>, <span class="st">"Employed"</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">longley.X</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/model.matrix.html" class="external-link">model.matrix</a></span><span class="op">(</span><span class="va">lmod</span><span class="op">)</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">lambda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.005</span>, <span class="fl">0.01</span>, <span class="fl">0.02</span>, <span class="fl">0.04</span>, <span class="fl">0.08</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lambdaf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">".005"</span>, <span class="st">".01"</span>, <span class="st">".02"</span>, <span class="st">".04"</span>, <span class="st">".08"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lridge</span> <span class="op">&lt;-</span> <span class="fu"><a href="ridge.html">ridge</a></span><span class="op">(</span><span class="va">longley.y</span>, <span class="va">longley.X</span>, lambda<span class="op">=</span><span class="va">lambda</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="fu">plot3d</span><span class="op">(</span><span class="va">lridge</span>, var<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span>, radius<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># view in SVD/PCA space</span></span></span>
<span class="r-in"><span><span class="va">plridge</span> <span class="op">&lt;-</span> <span class="fu"><a href="pca.html">pca</a></span><span class="op">(</span><span class="va">lridge</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">plot3d</span><span class="op">(</span><span class="va">plridge</span>, radius<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michael Friendly.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

